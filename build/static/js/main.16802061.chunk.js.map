{"version":3,"sources":["component/App.js","index.js"],"names":["App","props","handleSubmit","event","preventDefault","emailInput","current","value","data","emailId","console","log","fetch","method","credentials","headers","body","JSON","stringify","then","res","ok","json","status","result","setState","isLoaded","imageList","catch","error","alert","handleSelection","undefined","target","selectedImage","handleDownloadClick","ticket","state","document","getElementById","click","React","createRef","className","onSubmit","this","type","id","ref","placeholder","map","element","name","onChange","src","alt","style","width","onClick","href","download","visibility","Component","ReactDOM","render"],"mappings":"mMAgBqBA,G,wDACpB,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IAQPC,aAAe,SAACC,GAEf,GADAA,EAAMC,iBACF,EAAKC,WAAWC,QAAQC,MAAO,CAClC,IAAMC,EAAO,CAAEC,QAAS,EAAKJ,WAAWC,QAAQC,OAChDG,QAAQC,IAAIH,GACZI,MAAM,8CAA+C,CACpDC,OAAQ,OAERC,YAAa,UACbC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAUV,KAEpBW,MAAK,SAAAC,GACL,GAAIA,EAAIC,GACP,OAAOD,EAAIE,OAEX,MAAMF,EAAIG,UAEXJ,MACA,SAACK,GACA,EAAKC,SAAS,CACbC,UAAU,EACVC,UAAWH,OAGZI,OAAM,SAACC,GACRC,MAAM,uEAGRA,MAAM,+BAxCW,EA6CnBC,gBAAkB,SAAC5B,QACS6B,IAAvB7B,EAAM8B,OAAO1B,OAChB,EAAKkB,SAAS,CACbS,cAAe/B,EAAM8B,OAAO1B,SAhDZ,EAqDnB4B,oBAAsB,WACrB,IAAM3B,EAAO,CAAEC,QAAS,EAAKJ,WAAWC,QAAQC,MAAO6B,OAAQ,EAAKC,MAAMH,eAC1EtB,MAAM,4CAA6C,CAClDC,OAAQ,OAERC,YAAa,UACbC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAUV,KAEpBW,MAAK,SAAAC,GACL,IAAIA,EAAIC,GAGP,MAAMD,EAAIG,OAFVe,SAASC,eAAe,YAAYC,WAInCZ,OAAM,SAACC,GACTC,MAAM,mEArER,EAAKO,MAAQ,CACZX,UAAU,EACVC,UAAW,GACXO,cAAe,MAEhB,EAAK7B,WAAaoC,IAAMC,YAPN,E,qDA4ET,IAAD,OACR,OACC,yBAAKC,UAAU,mBACd,yBAAKA,UAAU,OACd,yBAAKA,UAAU,yCAAf,sBAID,yBAAKA,UAAU,gBACd,yBAAKA,UAAU,aACd,yBAAKA,UAAU,QACd,yBAAKA,UAAU,aACd,0BAAMC,SAAUC,KAAK3C,aAAcyC,UAAU,eAC5C,yBAAKA,UAAU,2BACd,2BAAOG,KAAK,OAAOH,UAAU,eAAeI,GAAG,cAAcC,IAAKH,KAAKxC,WAAY4C,YAAY,yBAEhG,4BAAQH,KAAK,SAASH,UAAU,uBAAhC,eAML,yBAAKA,UAAU,gBACbE,KAAKR,MAAMX,UACXmB,KAAKR,MAAMV,UAAUuB,KAAI,SAACC,GACzB,OACC,yBAAKR,UAAU,iBACd,yBAAKA,UAAU,QACd,yBAAKA,UAAU,aACd,2BAAOG,KAAK,QAAQM,KAAK,aAAaL,GAAG,aAAaxC,MAAO4C,EAASE,SAAU,EAAKtB,kBADtF,eAEC,yBAAKuB,IAAG,kBAAaH,GAAWI,IAAI,QAAQC,MAAO,CAAEC,MAAO,eAOjEZ,KAAKR,MAAMX,UAAyC,OAA7BmB,KAAKR,MAAMH,eAClC,yBAAKS,UAAU,6BACd,4BAAQG,KAAK,SAASH,UAAU,sBAAsBe,QAASb,KAAKV,qBAApE,mBACA,uBAAGY,GAAG,WAAWY,KAAI,kBAAad,KAAKR,MAAMH,eAAiB0B,UAAQ,EAACJ,MAAO,CAACK,WAAY,mB,GArHjEpB,IAAMqB,YCZvCC,IAASC,OAAO,kBAAC,EAAD,MAAS1B,SAASC,eAAe,U","file":"static/js/main.16802061.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\n\nconst createImageView = (element) => {\n\tconsole.log(element);\n\treturn (\n\t\t<div className=\"col-md-6 mt-1\">\n\t\t\t<div className=\"card\">\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<input type=\"radio\" name=\"img-select\" id=\"img-select\" />&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t<img src={element} alt=\"hello\" style={{ width: '90%' }} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\nexport default class App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tisLoaded: false,\n\t\t\timageList: [],\n\t\t\tselectedImage: null\n\t\t};\n\t\tthis.emailInput = React.createRef();\n\t}\n\thandleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tif (this.emailInput.current.value) {\n\t\t\tconst data = { emailId: this.emailInput.current.value };\n\t\t\tconsole.log(data);\n\t\t\tfetch(\"http://172.29.194.107:8443/api/fetchTickets\", {\n\t\t\t\tmethod: 'POST',\n\t\t\t\t//mode: 'no-cors',\n\t\t\t\tcredentials: 'include',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(data)\n\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.ok)\n\t\t\t\t\t\treturn res.json();\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow res.status;\n\t\t\t\t})\n\t\t\t\t.then(\n\t\t\t\t\t(result) => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tisLoaded: true,\n\t\t\t\t\t\t\timageList: result\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t).catch((error) => {\n\t\t\t\t\talert('Sorry something went wrong.Please reload page and try again')\n\t\t\t\t});\n\t\t} else {\n\t\t\talert(\"Please enter email address\");\n\t\t}\n\n\t}\n\n\thandleSelection = (event) => {\n\t\tif (event.target.value !== undefined) {\n\t\t\tthis.setState({\n\t\t\t\tselectedImage: event.target.value\n\t\t\t});\n\t\t}\n\t}\n\n\thandleDownloadClick = () => {\n\t\tconst data = { emailId: this.emailInput.current.value, ticket: this.state.selectedImage };\n\t\tfetch(\"http://172.29.194.107:8443/api/saveTicket\", {\n\t\t\tmethod: 'POST',\n\t\t\t//mode: 'no-cors',\n\t\t\tcredentials: 'include',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(data)\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tdocument.getElementById(\"img-link\").click();\n\t\t\t\t} else {\n\t\t\t\t\tthrow res.status;\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\talert('Sorry something went wrong.Please reload page and try again')\n\t\t\t});\n\t\t//window.open(\"/images/\"+this.state.selectedImage.split('/')[4]);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container-fluid\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-md-12 text-center p-2 header-text\">\n\t\t\t\t\t\tTambola Tick-Pick\n\t\t\t \t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row mt-1 p-2\">\n\t\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t<form onSubmit={this.handleSubmit} className=\"form-inline\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group mx-sm-3 mb-2\">\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"input-email\" ref={this.emailInput} placeholder=\"Enter Email Address\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-submit mb-2\">Submit</button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row mt-1 p-2\">\n\t\t\t\t\t{this.state.isLoaded && (\n\t\t\t\t\t\tthis.state.imageList.map((element) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"col-md-6 mt-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"img-select\" id=\"img-select\" value={element} onChange={this.handleSelection} />&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<img src={`/images/${element}`} alt=\"hello\" style={{ width: '90%' }} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t)}\n\t\t\t\t\t{this.state.isLoaded && this.state.selectedImage !== null && (\n\t\t\t\t\t\t<div className=\"col-md-12 text-right mt-2\">\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-submit mb-2\" onClick={this.handleDownloadClick}>Download Ticket</button>\n\t\t\t\t\t\t\t<a id=\"img-link\" href={`/images/${this.state.selectedImage}`} download style={{visibility: \"hidden\"}}></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./component/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}