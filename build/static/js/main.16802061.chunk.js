(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(2),c=a.n(l),s=a(3),r=a(4),m=a(5),o=a(6),d=(a(12),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){if(e.preventDefault(),n.emailInput.current.value){var t={emailId:n.emailInput.current.value};console.log(t),fetch("http://172.29.194.107:8443/api/fetchTickets",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw e.status})).then((function(e){n.setState({isLoaded:!0,imageList:e})})).catch((function(e){alert("Sorry something went wrong.Please reload page and try again")}))}else alert("Please enter email address")},n.handleSelection=function(e){void 0!==e.target.value&&n.setState({selectedImage:e.target.value})},n.handleDownloadClick=function(){var e={emailId:n.emailInput.current.value,ticket:n.state.selectedImage};fetch("http://172.29.194.107:8443/api/saveTicket",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw e.status;document.getElementById("img-link").click()})).catch((function(e){alert("Sorry something went wrong.Please reload page and try again")}))},n.state={isLoaded:!1,imageList:[],selectedImage:null},n.emailInput=i.a.createRef(),n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 text-center p-2 header-text"},"Tambola Tick-Pick")),i.a.createElement("div",{className:"row mt-1 p-2"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-inline"},i.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},i.a.createElement("input",{type:"text",className:"form-control",id:"input-email",ref:this.emailInput,placeholder:"Enter Email Address"})),i.a.createElement("button",{type:"submit",className:"btn btn-submit mb-2"},"Submit")))))),i.a.createElement("div",{className:"row mt-1 p-2"},this.state.isLoaded&&this.state.imageList.map((function(t){return i.a.createElement("div",{className:"col-md-6 mt-1"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("input",{type:"radio",name:"img-select",id:"img-select",value:t,onChange:e.handleSelection}),"\xa0\xa0\xa0",i.a.createElement("img",{src:"/images/".concat(t),alt:"hello",style:{width:"90%"}}))))})),this.state.isLoaded&&null!==this.state.selectedImage&&i.a.createElement("div",{className:"col-md-12 text-right mt-2"},i.a.createElement("button",{type:"button",className:"btn btn-submit mb-2",onClick:this.handleDownloadClick},"Download Ticket"),i.a.createElement("a",{id:"img-link",href:"/images/".concat(this.state.selectedImage),download:!0,style:{visibility:"hidden"}}))))}}]),a}(i.a.Component));c.a.render(i.a.createElement(d,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.16802061.chunk.js.map